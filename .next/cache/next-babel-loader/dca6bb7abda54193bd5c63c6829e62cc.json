{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _hotelsDesignDic,\n    _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\gilad\\\\Desktop\\\\Bridgify\\\\BridgifyAsg\\\\pages\\\\index.tsx\";\n\nvar __jsx = React.createElement;\n//----->react & next\nimport React from 'react';\nimport Head from \"next/head\"; //----->in-app components & styles\n\nimport Attraction from '../components/Attraction'; // import styles from './index.module.css'can\n\nvar hotelsDesignDic = (_hotelsDesignDic = {}, _defineProperty(_hotelsDesignDic, 'default', {\n  titleSize: '1em',\n  titleColor: 'black'\n}), _defineProperty(_hotelsDesignDic, 'hilton', {\n  titleSize: '1em',\n  titleColor: 'pink'\n}), _defineProperty(_hotelsDesignDic, 'royal', {\n  titleSize: '0.8em',\n  titleColor: 'green'\n}), _hotelsDesignDic);\n// https://developers.google.com/maps/documentation/javascript/places\n// The Places service is a self-contained library, separate from the main Maps JavaScript API code. \n// To use the functionality contained within this library, you must first load it using the libraries parameter in the Maps API bootstrap URL\nvar googleKey = 'AIzaSyBPWFwHrsgzYw36bl-ecghaFEqNuRuGDUg';\nvar googleScript = \"https://maps.googleapis.com/maps/api/js?key=\".concat(googleKey, \"&libraries=places\");\nvar googleURL = \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?\";\nvar paramsAsObject = {\n  location: '51.5136855,-0.1178635',\n  radius: '1500',\n  type: 'bars',\n  key: googleKey\n}; //create params string from the req object\n\nvar paramsAsString = Object.entries(paramsAsObject).map(function (_ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      key = _ref2[0],\n      val = _ref2[1];\n\n  return \"\".concat(key, \"=\").concat(val);\n}).join('&'); // // This function gets called at build time on server-side.\n// export const getStaticProps: GetStaticProps = async () => {\n// \t// Call an external API endpoint to get posts.\n// \tconst res = await fetch(googleURL + paramsAsString)\n// \tlet data = await res.json()\n// \tconst resultsData: attrResult[] = data['results']\n// \t// console.log(resultsData);\n// \t// 'Home' component will receive resultsData as a prop by returning it\n// \treturn {\n// \t\tprops: {\n// \t\t\tresultsData\n// \t\t}\n// \t}\n// }\n\nvar Home = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref3) {\n    var hotel, res, data, resultsData, chosenHotel;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            hotel = _ref3.hotel;\n            _context.next = 3;\n            return fetch(googleURL + paramsAsString);\n\n          case 3:\n            res = _context.sent;\n            _context.next = 6;\n            return res.json();\n\n          case 6:\n            data = _context.sent;\n            resultsData = data['results'];\n            chosenHotel = hotel ? hotel : 'default';\n            return _context.abrupt(\"return\", __jsx(React.Fragment, null, __jsx(\"div\", {\n              style: {\n                textAlign: 'center',\n                padding: '2em',\n                fontFamily: 'Monospace'\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 3\n              }\n            }, __jsx(Head, {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 4\n              }\n            }, __jsx(\"title\", {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 5\n              }\n            }, \"Bridgify\"), __jsx(\"script\", {\n              defer: true,\n              src: googleScript,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 5\n              }\n            })), __jsx(\"h1\", {\n              style: {\n                color: 'purple',\n                paddingBottom: '0.5em',\n                fontSize: '3em'\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 4\n              }\n            }, \"Bridgify!\"), __jsx(\"div\", {\n              style: {\n                placeContent: 'center',\n                display: 'flex',\n                flexWrap: 'wrap'\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 4\n              }\n            }, resultsData.map(function (attr, index) {\n              return __jsx(Attraction, {\n                key: attr.place_id,\n                name: attr.name,\n                number_of_reviews: attr.user_ratings_total,\n                rating: attr.rating,\n                tags: attr.types,\n                imgUrl: attr.photos ? attr.photos[0] ? attr.photos[0].photo_reference : null : null,\n                titleSize: hotelsDesignDic[chosenHotel].titleSize,\n                titleColor: hotelsDesignDic[chosenHotel].titleColor,\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 13\n                }\n              });\n            })))));\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function Home(_x) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/gilad/Desktop/Bridgify/BridgifyAsg/pages/index.tsx"],"names":["React","Head","Attraction","hotelsDesignDic","titleSize","titleColor","googleKey","googleScript","googleURL","paramsAsObject","location","radius","type","key","paramsAsString","Object","entries","map","val","join","Home","hotel","fetch","res","json","data","resultsData","chosenHotel","textAlign","padding","fontFamily","color","paddingBottom","fontSize","placeContent","display","flexWrap","attr","index","place_id","name","user_ratings_total","rating","types","photos","photo_reference"],"mappings":"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","sourcesContent":["//----->react & next\r\nimport React, { useState } from 'react';\r\n\r\nimport Head from \"next/head\";\r\n\r\n\r\n//----->in-app components & styles\r\nimport Attraction from '../components/Attraction'\r\n// import styles from './index.module.css'can\r\nimport { attrResult } from '../interfaces/'\r\nimport { GetStaticProps } from 'next';\r\n\r\ntype designProps = {\r\n\ttitleSize: string,\r\n\ttitleColor: string\r\n}\r\n\r\nconst hotelsDesignDic: { [key: string]: designProps } = {\r\n\t['default']: {\r\n\t\ttitleSize: '1em',\r\n\t\ttitleColor: 'black'\r\n\t},\r\n\t['hilton']: {\r\n\t\ttitleSize: '1em',\r\n\t\ttitleColor: 'pink'\r\n\t},\r\n\t['royal']: {\r\n\t\ttitleSize: '0.8em',\r\n\t\ttitleColor: 'green'\r\n\t}\r\n};\r\n\r\ntype Props = {\r\n\thotel?: string\r\n\tresultsData?: any\r\n}\r\n\r\n// https://developers.google.com/maps/documentation/javascript/places\r\n// The Places service is a self-contained library, separate from the main Maps JavaScript API code. \r\n// To use the functionality contained within this library, you must first load it using the libraries parameter in the Maps API bootstrap URL\r\n\r\nconst googleKey = 'AIzaSyBPWFwHrsgzYw36bl-ecghaFEqNuRuGDUg'\r\nconst googleScript = `https://maps.googleapis.com/maps/api/js?key=${googleKey}&libraries=places`\r\nconst googleURL = `https://maps.googleapis.com/maps/api/place/nearbysearch/json?`\r\n\r\nconst paramsAsObject = {\r\n\tlocation: '51.5136855,-0.1178635',\r\n\tradius:'1500',\r\n\ttype:'bars',\r\n\tkey:googleKey\r\n}\r\n//create params string from the req object\r\nconst paramsAsString = Object.entries(paramsAsObject).map(([key, val]) => `${key}=${val}`).join('&')\r\n\r\n// // This function gets called at build time on server-side.\r\n// export const getStaticProps: GetStaticProps = async () => {\r\n// \t// Call an external API endpoint to get posts.\r\n// \tconst res = await fetch(googleURL + paramsAsString)\r\n// \tlet data = await res.json()\r\n// \tconst resultsData: attrResult[] = data['results']\r\n// \t// console.log(resultsData);\r\n\t\r\n// \t// 'Home' component will receive resultsData as a prop by returning it\r\n// \treturn {\r\n// \t\tprops: {\r\n// \t\t\tresultsData\r\n// \t\t}\r\n// \t}\r\n// }\r\n\r\n\r\nconst Home = async ({  hotel }: Props) => {\r\n\t// let resultsData =  require('../data/resultsFromAPI.json')['results']\r\n\t// console.log(resultsData);\r\n\r\n\tconst res = await fetch(googleURL + paramsAsString)\r\n\tlet data = await res.json()\r\n\tconst resultsData: attrResult[] = data['results']\r\n\r\n\tconst chosenHotel = hotel ? hotel : 'default'\r\n\treturn <>\r\n\t\t<div style={{ textAlign: 'center', padding: '2em', fontFamily: 'Monospace' }}>\r\n\t\t\t<Head>\r\n\t\t\t\t<title>Bridgify</title>\r\n\t\t\t\t<script defer src={googleScript} />\r\n\t\t\t</Head>\r\n\t\t\t<h1 style={{ color: 'purple', paddingBottom: '0.5em', fontSize: '3em' }}>Bridgify!</h1>\r\n\t\t\t<div style={{ placeContent: 'center', display: 'flex', flexWrap: 'wrap' }}>\r\n\t\t\t\t{resultsData.map((attr, index) => {\r\n\t\t\t\t\treturn <Attraction\r\n\t\t\t\t\t\tkey={attr.place_id}\r\n\t\t\t\t\t\tname={attr.name}\r\n\t\t\t\t\t\tnumber_of_reviews={attr.user_ratings_total}\r\n\t\t\t\t\t\trating={attr.rating}\r\n\t\t\t\t\t\ttags={attr.types}\r\n\t\t\t\t\t\timgUrl={attr.photos ? attr.photos[0] ? attr.photos[0].photo_reference : null : null}\r\n\t\t\t\t\t\ttitleSize={hotelsDesignDic[chosenHotel].titleSize}\r\n\t\t\t\t\t\ttitleColor={hotelsDesignDic[chosenHotel].titleColor}\r\n\t\t\t\t\t></Attraction>\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</>\r\n}\r\n\r\nexport default Home"]},"metadata":{},"sourceType":"module"}