{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gilad\\\\Desktop\\\\Bridgify\\\\BridgifyAsg\\\\pages\\\\api\\\\hilton.tsx\";\nvar __jsx = React.createElement;\nimport ReactDOMServer from 'react-dom/server';\nimport Home from '..';\nimport React from 'react';\nconst googleKey = 'AIzaSyBPWFwHrsgzYw36bl-ecghaFEqNuRuGDUg';\nconst googleURL = `https://maps.googleapis.com/maps/api/place/nearbysearch/json?`;\nconst paramsAsObject = {\n  location: '38.7198852,-9.1402976',\n  radius: '1500',\n  type: 'bars',\n  key: googleKey\n};\nconst paramsAsString = new URLSearchParams(paramsAsObject).toString();\nconsole.log(paramsAsString); // const paramsAsString = Object.entries(paramsAsObject).map(([key, val]) => `${key}=${val}`).join('&')\n\nconst hilton = async (req, res) => {\n  const googleRes = await fetch(googleURL + paramsAsString);\n  let data = await googleRes.json();\n  const resultsData = data['results'];\n  const HTMLString = ReactDOMServer.renderToString(__jsx(Home, {\n    resultsData: resultsData,\n    hotel: 'hilton',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 60\n    }\n  }));\n  res.status(200).send(JSON.stringify(HTMLString)); // res.status(200).send(HTMLString)\n};\n\nexport default hilton;","map":{"version":3,"sources":["C:/Users/gilad/Desktop/Bridgify/BridgifyAsg/pages/api/hilton.tsx"],"names":["ReactDOMServer","Home","React","googleKey","googleURL","paramsAsObject","location","radius","type","key","paramsAsString","URLSearchParams","toString","console","log","hilton","req","res","googleRes","fetch","data","json","resultsData","HTMLString","renderToString","status","send","JSON","stringify"],"mappings":";;AACA,OAAOA,cAAP,MAA2B,kBAA3B;AAEA,OAAOC,IAAP,MAAiB,IAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAIA,MAAMC,SAAS,GAAG,yCAAlB;AACA,MAAMC,SAAS,GAAI,+DAAnB;AAEA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,QAAQ,EAAE,uBADW;AAEtBC,EAAAA,MAAM,EAAE,MAFc;AAGtBC,EAAAA,IAAI,EAAE,MAHgB;AAItBC,EAAAA,GAAG,EAAEN;AAJiB,CAAvB;AAOA,MAAMO,cAAc,GAAE,IAAIC,eAAJ,CAAoBN,cAApB,EAAoCO,QAApC,EAAtB;AACAC,OAAO,CAACC,GAAR,CAAYJ,cAAZ,E,CAEA;;AAEA,MAAMK,MAAM,GAAG,OAAOC,GAAP,EAA4BC,GAA5B,KAAqD;AAElE,QAAMC,SAAS,GAAG,MAAMC,KAAK,CAACf,SAAS,GAAGM,cAAb,CAA7B;AACD,MAAIU,IAAI,GAAG,MAAMF,SAAS,CAACG,IAAV,EAAjB;AACC,QAAMC,WAAyB,GAAGF,IAAI,CAAC,SAAD,CAAtC;AAEA,QAAMG,UAAkB,GAAGvB,cAAc,CAACwB,cAAf,CAA8B,MAAC,IAAD;AAAM,IAAA,WAAW,EAAEF,WAAnB;AAAgC,IAAA,KAAK,EAAE,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA9B,CAA3B;AACAL,EAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,IAAI,CAACC,SAAL,CAAgBL,UAAhB,CAArB,EAPkE,CAQlE;AACD,CATD;;AAWA,eAAeR,MAAf","sourcesContent":["import { NextApiRequest, NextApiResponse } from 'next'\r\nimport ReactDOMServer from 'react-dom/server';\r\n\r\nimport Home from '..'\r\nimport React from 'react'\r\nimport { Attraction } from '../../interfaces';\r\n\r\n\r\nconst googleKey = 'AIzaSyBPWFwHrsgzYw36bl-ecghaFEqNuRuGDUg'\r\nconst googleURL = `https://maps.googleapis.com/maps/api/place/nearbysearch/json?`\r\n\r\nconst paramsAsObject = {\r\n  location: '38.7198852,-9.1402976',\r\n\tradius: '1500',\r\n\ttype: 'bars',\r\n\tkey: googleKey\r\n}\r\n\r\nconst paramsAsString= new URLSearchParams(paramsAsObject).toString()\r\nconsole.log(paramsAsString);\r\n\r\n// const paramsAsString = Object.entries(paramsAsObject).map(([key, val]) => `${key}=${val}`).join('&')\r\n\r\nconst hilton = async (req: NextApiRequest, res: NextApiResponse) => {\r\n\r\n  const googleRes = await fetch(googleURL + paramsAsString)\r\n\tlet data = await googleRes.json()\r\n  const resultsData: Attraction[] = data['results']\r\n  \r\n  const HTMLString :string = ReactDOMServer.renderToString(<Home resultsData={resultsData} hotel={'hilton'}/>);\r\n  res.status(200).send(JSON.stringify (HTMLString))\r\n  // res.status(200).send(HTMLString)\r\n}\r\n\r\nexport default hilton"]},"metadata":{},"sourceType":"module"}